function copyCode(e){const o=e.closest(".sc-codeblock"),t=o?.querySelector("pre code");if(!t)return;function n(e){const t=e.querySelector("i"),n=Array.from(e.childNodes).find(e=>e.nodeType===Node.TEXT_NODE&&e.textContent.trim());if(!t||!n)return;const s=t.className,o=n.textContent;t.className="fa-solid fa-check",n.textContent="COPIED",e.classList.add("copied"),setTimeout(()=>{t.className=s,n.textContent=o,e.classList.remove("copied")},2e3)}function s(e,t){const s=document.createElement("textarea");s.value=e,s.style.cssText="position:fixed;opacity:0;",document.body.appendChild(s),s.select();try{document.execCommand("copy")&&n(t)}catch(e){console.error("Copy failed:",e)}document.body.removeChild(s)}const i=t.querySelectorAll(".hljs-ln-code");text=Array.from(i).map(e=>{const t=e.textContent||e.innerText||"";return t.trim()===""?"":t}).join(`
`),navigator.clipboard?navigator.clipboard.writeText(text).then(()=>n(e)).catch(()=>s(text,e)):s(text,e)}