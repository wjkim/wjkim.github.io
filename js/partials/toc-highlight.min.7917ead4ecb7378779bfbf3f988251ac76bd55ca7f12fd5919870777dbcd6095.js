document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("#toc-config");if(!e)return;function t(){const t=parseInt(e.dataset.start)||2,n=parseInt(e.dataset.end)||3,s=Array.from({length:n-t+1},(e,n)=>`h${t+n}[id]`);return document.querySelectorAll(s.join(", "))}function n(){const e=document.querySelector(".site-toc");if(e){const t=window.getComputedStyle(e);if(t.visibility==="visible")return e.querySelector("#TableOfContents")}return document.querySelector("#TableOfContents")}const s=new IntersectionObserver(e=>{e.forEach(e=>{const o=e.target.getAttribute("id"),t=n(),i=t.querySelectorAll("a"),s=t.querySelector(`a[href="#${o}"]`);s&&e.isIntersecting&&(i.forEach(e=>e.classList.remove("active")),s.classList.add("active"))})},{rootMargin:"0px 0px -70% 0px"});t().forEach(e=>{s.observe(e)})})