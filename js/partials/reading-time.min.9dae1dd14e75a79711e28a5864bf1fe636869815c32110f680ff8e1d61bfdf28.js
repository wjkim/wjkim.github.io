(function(){"use strict";function e(e,t=""){return window.siteI18n&&typeof window.siteI18n.translate=="function"?window.siteI18n.translate(e,t):t}function n(e){const l=4.7,d=e=>e.reduce((e,t)=>e+t,0),t=e.cloneNode(!0);t.querySelectorAll(".sc-tabs").forEach(e=>{const t=e.querySelectorAll(".sc-tabs-content");t.forEach((e,t)=>{t>0&&e.remove()})});const h=".sc-bookmark-card, .data-table, .sc-button, .sc-badge, i.fa-solid, i.fa-regular";t.querySelectorAll(h).forEach(e=>e.remove());const m=t.querySelectorAll("pre, img, table, iframe"),n=[];m.forEach((e,t)=>{const s=e.tagName.toLowerCase();let o;s==="pre"||s==="table"?o="block":s==="iframe"?o="media":o="img";const i={type:o,i:t};i.words=e.textContent.split(/\s+/).filter(Boolean).length,s==="pre"?i.lines=e.textContent.split(`
`).length:s==="table"&&(i.lines=e.querySelectorAll("tr").length),n.push(i);const a=document.createTextNode(`__MARKER_${t}__`);e.parentNode.replaceChild(a,e)});const s=t.textContent;let i=0,r=0;n.forEach((e,t)=>{const a=`__MARKER_${e.i}__`;let o=!1;if(t>0){const i=`__MARKER_${n[t-1].i}__`,r=s.indexOf(i)+i.length,c=s.indexOf(a),l=s.substring(r,c);l.trim().length<10&&n[t-1].type===e.type&&(o=!0)}if(e.type==="block"){const t=o?5:20,n=3+e.lines*.5,s=e.words/238*60;i+=Math.min(t,n,s)}else e.type==="media"?i+=20:r+=o?2:10});const o=s.replace(/__MARKER_\d+__/g,"").replace(/https?:\/\/[^\s]+/g,""),u=o.split(/\s+/).filter(Boolean);let c=0,a=0;u.forEach(e=>{/\p{Script=Latin}/u.test(e)?c++:/\p{Script=Hangul}/u.test(e)&&a++});const f=(o.match(/\p{Script=Han}/gu)||[]).length,p=(o.match(/[\p{Script=Hiragana}\p{Script=Katakana}]/gu)||[]).length,g=t.querySelectorAll(".mjx-chtml, .katex"),v=d(Array.from(g).map(e=>e.textContent.replace(/[^a-zA-Z0-9]+/gi," ").split(/\s+/).filter(Boolean).length)),b=c/238+a/160+f/200+p/500+v/238/l,j=b*60+i+r;return Math.round(j)}function s(t){const i=Math.floor(t/3600),o=Math.floor(t%3600/60),a=t%60,s=document.createElement("span");let n;if(i>0){n={id:"reading.time.hour",params:`{"%h": ${i}, "%m": ${o}}`};const t=e(n.id,"%h hr %m min read");s.textContent=t.replace("%h",i).replace("%m",o)}else if(o>0){n={id:"reading.time.min",params:`{"%m": ${o}}`};const t=e(n.id,"%m min read");s.textContent=t.replace("%m",o)}else{n={id:"reading.time.sec",params:`{"%s": ${a}}`};const t=e(n.id,"%s sec read");s.textContent=t.replace("%s",a)}return s.dataset.i18nId=n.id,s.dataset.i18nText=n.params,s}const t=()=>{const t=document.querySelector(".content-wrap.markdown"),e=document.getElementById("reading-time");if(t&&e){const o=n(t);e.textContent=" â€¢ ",e.appendChild(s(o))}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t):t()})()